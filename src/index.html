<!-- Copyright (C) 2025 Julian Valentin
   -
   - This Source Code Form is subject to the terms of the Mozilla Public
   - License, v. 2.0. If a copy of the MPL was not distributed with this
   - file, You can obtain one at https://mozilla.org/MPL/2.0/.
   -->
<!-- prettier-ignore -->
<!DOCTYPE html>
<html data-bs-theme="dark">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width,initial-scale=1.0" />
        <title>Disce</title>
        <link href="css/style.css" rel="stylesheet" />
        <link
            href="https://pyscript.net/releases/2025.8.1/core.css"
            crossorigin="anonymous"
            integrity="sha384-C7Vo5fjeYiyN27fdJgeiteaUwrLVW0+I9EbpT1kBxsxac8+kxV5zYrLayugNSu1q"
            rel="stylesheet"
        />
        <link
            href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css"
            crossorigin="anonymous"
            integrity="sha384-sRIl4kxILFvY47J16cr9ZwB07vP4J8+LH7qKQnuqkuIAvNWLzeN8tE5YBujZqJLB"
            rel="stylesheet"
        />
        <link
            href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.13.1/font/bootstrap-icons.min.css"
            crossorigin="anonymous"
            integrity="sha384-CK2SzKma4jA5H/MXDUU7i1TqZlCFaD4T01vtyDFvPlD97JQyS+IsSh1nI2EFbpyk"
            rel="stylesheet"
        />
    </head>
    <body>
        <div id="disce-load-screen" class="disce-screen">
            <div class="spinner-border text-primary" role="status">
                <span class="visually-hidden">Loading...</span>
            </div>
        </div>
        <div id="disce-decks-screen" class="disce-screen d-none">
            <h1 class="mb-4">Disce: Decks</h1>
            <div class="mb-3">
                <button class="disce-add-deck-btn btn btn-primary" title="Add deck">
                    <i class="bi bi-plus-lg"></i><span class="disce-btn-text"> Add Deck</span>
                </button>
                <button class="disce-import-decks-btn btn btn-primary" title="Import decks">
                    <i class="bi bi-upload"></i><span class="disce-btn-text"> Import</span>
                </button>
                <span class="disce-sort-decks-dropdown dropdown">
                    <button
                        class="disce-sort-decks-btn btn btn-primary dropdown-toggle me-2"
                        data-bs-toggle="dropdown"
                        type="button"
                    >
                        <i class="bi bi-sort-down"></i><span class="disce-btn-text"> Sort By</span>
                    </button>
                    <ul class="dropdown-menu">
                        <li>
                            <a class="disce-sort-decks-by-name-link dropdown-item" href="#"
                                ><i class="bi bi-alphabet"></i> Name</a
                            >
                        </li>
                        <li>
                            <a class="disce-sort-decks-by-card-count-link dropdown-item" href="#"
                                ><i class="bi bi-files"></i> Number of Cards</a
                            >
                        </li>
                        <li>
                            <a class="disce-sort-decks-by-correct-answers-link dropdown-item" href="#"
                                ><i class="bi bi-check-circle"></i> Correct Answers</a
                            >
                        </li>
                        <li>
                            <a class="disce-sort-decks-by-wrong-answers-link dropdown-item" href="#"
                                ><i class="bi bi-x-circle"></i> Wrong Answers</a
                            >
                        </li>
                        <li>
                            <a class="disce-sort-decks-by-missing-answers-link dropdown-item" href="#"
                                ><i class="bi bi-fast-forward"></i> Missing Answers</a
                            >
                        </li>
                        <li><hr class="dropdown-divider" /></li>
                        <li>
                            <a class="disce-sort-decks-reverse-link dropdown-item" href="#"
                                ><i class="bi bi-sort-up-alt"></i> Reverse</a
                            >
                        </li>
                    </ul>
                </span>
                <button class="disce-select-all-btn btn btn-primary" title="Select all">
                    <i class="bi bi-check2-square"></i><span class="disce-btn-text"> Select All</span>
                </button>
                <button class="disce-study-decks-btn btn btn-primary" title="Study selected">
                    <i class="bi bi-lightbulb"></i><span class="disce-btn-text"> Study Selected</span>
                </button>
                <button class="disce-merge-decks-btn btn btn-primary" title="Merge selected">
                    <i class="bi bi-layers"></i><span class="disce-btn-text"> Merge Selected</span>
                </button>
                <button class="disce-export-decks-btn btn btn-primary" title="Export selected">
                    <i class="bi bi-download"></i><span class="disce-btn-text"> Export Selected</span>
                </button>
                <button class="disce-delete-decks-btn btn btn-danger me-2" title="Delete selected">
                    <i class="bi bi-trash"></i><span class="disce-btn-text"> Delete Selected</span>
                </button>
                <button class="disce-settings-btn btn btn-secondary" title="Settings">
                    <i class="bi bi-gear"></i><span class="disce-btn-text"> Settings</span>
                </button>
            </div>
            <div class="disce-decks"></div>
            <div
                class="disce-settings-modal modal fade"
                tabindex="-1"
                aria-hidden="true"
                aria-labelledby="disce-settings-modal-label"
            >
                <div class="modal-dialog">
                    <div class="modal-content">
                        <div class="modal-header">
                            <h1 class="modal-title fs-5">Settings</h1>
                            <button class="btn-close" data-bs-dismiss="modal" type="button" aria-label="Close"></button>
                        </div>
                        <div class="modal-body">
                            <div class="mb-3">
                                <label class="form-label" for="disce-history-length-input">History Length</label>
                                <input class="disce-history-length-input" class="form-control" min="0" type="number" />
                            </div>
                            <div class="form-check mb-3">
                                <input
                                    class="disce-typewriter-mode-checkbox"
                                    class="form-check-input"
                                    type="checkbox"
                                />
                                <label class="form-check-label" for="disce-typewriter-mode-checkbox"
                                    >Typewriter Mode</label
                                >
                            </div>
                        </div>
                        <div class="modal-footer">
                            <button class="btn btn-secondary" data-bs-dismiss="modal" type="button">Cancel</button>
                            <button
                                class="btn btn-primary disce-save-settings-btn"
                                data-bs-dismiss="modal"
                                type="button"
                            >
                                Save
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div id="disce-study-screen" class="disce-screen d-none">
            <h1 class="mb-4">Disce: Study</h1>
            <div class="mb-3">
                <button class="disce-correct-answer-btn btn btn-success" title="Correct answer">
                    <i class="bi bi-check-circle"></i><span class="disce-btn-text"> Correct Answer</span>
                </button>
                <button class="disce-wrong-answer-btn btn btn-danger" title="Wrong answer">
                    <i class="bi bi-x-circle"></i><span class="disce-btn-text"> Wrong Answer</span>
                </button>
                <button class="disce-skip-card-btn btn btn-secondary" title="Skip card">
                    <i class="bi bi-fast-forward"></i><span class="disce-btn-text"> Skip Card</span>
                </button>
            </div>
            <div class="disce-study-card">
                <div class="disce-study-card-question-side d-flex align-items-center justify-content-center">
                    <div class="disce-study-card-side-content"></div>
                </div>
                <div class="disce-study-card-answer-side d-flex align-items-center justify-content-center">
                    <div class="disce-study-card-side-content"></div>
                    <button class="disce-show-answer-btn btn btn-primary" title="Show answer">
                        <i class="bi bi-exclamation-circle"></i><span class="disce-btn-text"> Show Answer</span>
                    </button>
                    <input
                        class="disce-answer-textbox form-control text-center me-2"
                        placeholder="Type your answer here..."
                        type="text"
                    />
                    <button class="disce-submit-answer-btn btn btn-primary" title="Submit">
                        <i class="bi bi-check-circle"></i>
                    </button>
                </div>
            </div>
            <div class="mt-4">
                <button class="disce-back-to-decks-screen-btn btn btn-secondary" title="Back to decks screen">
                    <i class="bi bi-arrow-left"></i><span class="disce-btn-text"> Back to Decks Screen</span>
                </button>
            </div>
        </div>
        <div id="disce-edit-deck-screen" class="disce-screen d-none">
            <h1 class="mb-4">Disce: Edit Deck</h1>
            <input class="disce-deck-uuid-hidden" type="hidden" />
            <div class="mb-3">
                <label class="form-label" for="disce-deck-name-textbox">Deck Name:</label>
                <input class="disce-deck-name-textbox" class="disce-deck-name-textbox form-control" type="text" />
            </div>
            <div class="mb-3">
                <button class="disce-save-deck-btn btn btn-success me-2" title="Save deck">
                    <i class="bi bi-save"></i><span class="disce-btn-text"> Save Deck</span>
                </button>
                <button class="disce-select-all-btn btn btn-primary" title="Select all">
                    <i class="bi bi-check2-square"></i><span class="disce-btn-text"> Select All</span>
                </button>
                <button class="disce-delete-cards-btn btn btn-danger" title="Delete selected">
                    <i class="bi bi-trash"></i><span class="disce-btn-text"> Delete Selected</span>
                </button>
            </div>
            <div class="disce-cards"></div>
            <button class="disce-back-to-decks-screen-btn btn btn-secondary mt-4" title="Back to decks screen">
                <i class="bi bi-arrow-left"></i><span class="disce-btn-text"> Back to Decks Screen</span>
            </button>
            <div class="position-fixed bottom-0 end-0 p-3">
                <div
                    class="disce-deck-saved-toast toast align-items-center text-white bg-success"
                    role="alert"
                    aria-atomic="true"
                    aria-live="assertive"
                >
                    <div class="d-flex">
                        <div class="toast-body">Deck saved.</div>
                        <button
                            class="btn-close me-2 m-auto"
                            data-bs-dismiss="toast"
                            type="button"
                            aria-label="Close"
                        ></button>
                    </div>
                </div>
            </div>
        </div>
        <script
            src="javascript/coi-serviceworker.js"
            crossorigin="anonymous"
            integrity="sha384-rsvRy9kcu8AyU5VvhHNm5TWx2QXI4G+1rNP9Hms0ZySwTMrbVIpy17m74H6Xnvtu"
        ></script>
        <script
            src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/js/bootstrap.bundle.min.js"
            crossorigin="anonymous"
            integrity="sha384-FKyoEForCGlyvwx9Hj09JcYn3nv7wiPVlz7YYwJrWVcXK/BmnVDxM+D2scQbITxI"
        ></script>
        <script
            src="https://pyscript.net/releases/2025.8.1/core.js"
            crossorigin="anonymous"
            integrity="sha384-3iTboEo+2h87xDhKzYs49FbFFhi1sOZV/X7TQG7Bf9A0Lo1ZO98j9P0LBbu8GrW4"
            type="module"
        ></script>
        <script src="python/disce/__main__.py" config="python/pyscript.toml" type="py"></script>
    </body>
</html>
